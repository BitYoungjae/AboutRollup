# 롤업 시작하기

## 설치하기

```bash
npm i -g rollup
```

rollup은 webpack과 다르게 별도의 cli용 모듈을 설치할 필요가 없습니다.

## 샘플 파일 구성

`./src/sample1` 에 위치한 아래 두 개의 파일을 이용해 설명을 진행합니다.

```js
// ./src/sample1/index.js
import { increase, num } from './someModule';

console.log(num); // 0
increase(10);
console.log(num);
```

```js
// ./src/sample1/someModule.js
export let num = 0;
export const increase = (i = 1) => {
  return (num = num + i);
};
```

## 간단한 빌드

```bash
rollup -i ./src/sample1/index.js -f cjs
```

`./src/sample1/index.js` 를 Entry point 로 삼아서 `cjs` 즉 `CommonJS` 방식으로 빌드합니다.
Output 에 관련된 설정이 없으므로, `stdout` 으로 출력합니다.

### STDOUT

```bash
./src/sample1/index.js → stdout...
'use strict';

let num = 0;
const increase = (i = 1) => {
  return (num = num + i);
};

console.log(num); // 0
increase(10);
console.log(num);
```

## 빌드된 번들 출력하기

```bash
rollup -i ./src/sample1/index.js -f cjs -o ./dist/bundle.js
```

`-o` 옵션을 사용해 번들된 파일이 저장될 위치를 지정할 수 있습니다.

번들된 `./dist/bundle.js` 파일의 내용은 아래와 같습니다.

```js
'use strict';

let num = 0;
const increase = (i = 1) => {
  return (num = num + i);
};

console.log(num); // 0
increase(10);
console.log(num);
```
